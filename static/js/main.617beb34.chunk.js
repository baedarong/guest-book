(this["webpackJsonpguest-book"]=this["webpackJsonpguest-book"]||[]).push([[0],{60:function(e,t,a){e.exports=a(79)},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),c=a(55),o=a.n(c),l=a(13),s=a(39),i=a(21),u=a(0),m=a.n(u),p=a(4),f=a(28),d=a(51),b=a(27),E=function(e){var t=e.auth,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),f=u[0],d=u[1],E=Object(n.useState)(!0),g=Object(l.a)(E,2),h=g[0],y=g[1],O=Object(n.useState)(""),j=Object(l.a)(O,2),v=j[0],x=j[1],w=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?s(n):"password"===a&&d(n)},k=function(){var e=Object(p.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,!h){e.next=7;break}return e.next=5,Object(b.c)(t,o,f);case 5:e.next=9;break;case 7:return e.next=9,Object(b.f)(t,o,f);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.message.includes("email-already-in-use")?x("\ud574\ub2f9 \uacc4\uc815\uc73c\ub85c \uac00\uc785\ud55c \uc774\ub825\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4! \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694"):e.t0.message.includes("account-exists-with-different-credential")?x("\ub2e4\ub978 \ubc29\uc2dd\uc73c\ub85c \uac00\uc785\ub41c \uacc4\uc815\uc785\ub2c8\ub2e4. \ud574\ub2f9 \ubc29\uc2dd\uc73c\ub85c \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694!"):x(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:k,className:"container"},r.a.createElement("input",{className:"authInput",name:"email",type:"email",placeholder:"Email",required:!0,value:o,onChange:w,style:{textAlign:"center"}}),r.a.createElement("input",{className:"authInput",name:"password",type:"password",placeholder:"Password",required:!0,value:f,onChange:w,style:{textAlign:"center"}}),r.a.createElement("input",{type:"submit",className:"authInput authSubmit",value:h?"\uac00\uc785\ud558\uae30":"\ub85c\uadf8\uc778"}),v&&r.a.createElement("span",{className:"authError"},v)),r.a.createElement("span",{onClick:function(){y((function(e){return!e}))},className:"authSwitch"},h?"\uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778\ud558\uae30":"\uc774\uba54\uc77c\ub85c \uac00\uc785\ud558\uae30"))},g=a(43),h=(a(70),a(72),a(80),a(81),a(56));g.a.initializeApp({apiKey:"AIzaSyBCrrViO2YqLguJNUDBFrjUDo6VSCYXM-E",authDomain:"guest-book-8d82c.firebaseapp.com",projectId:"guest-book-8d82c",storageBucket:"guest-book-8d82c.appspot.com",messagingSenderId:"1023022153488",appId:"1:1023022153488:web:0b9753bacc909812926f95"});g.a;var y=Object(b.d)(),O=g.a.auth(),j=g.a.firestore(),v=Object(h.a)(),x=a(32),w=function(){var e=Object(b.d)(),t=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(a=t.target.name)?((n=new b.b).addScope("profile"),n.addScope("email")):"github"===a&&(n=new b.a).addScope("repo"),e.next=4,O.signInWithPopup(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"authContainer"},r.a.createElement(f.a,{icon:x.a,color:"#FEBD00",size:"3x",style:{marginBottom:25}}),r.a.createElement("span",{style:{paddingBottom:10}},' \ub2e4\ub871\ub124 \ubc29\uba85\ub85d (\uff61\u2022\u0300\u1d17-)\u2727" '),r.a.createElement("span",{style:{paddingBottom:30}}," Instagram @darongbae "),r.a.createElement(E,{auth:e}),r.a.createElement("div",null,r.a.createElement("div",{className:"authBtns"},r.a.createElement("button",{onClick:t,name:"google",className:"authBtn"},"Google\ub85c \uc2dc\uc791\ud558\uae30 ",r.a.createElement(f.a,{icon:d.b})),r.a.createElement("button",{onClick:t,name:"github",className:"authBtn"},"Github\ub85c \uc2dc\uc791\ud558\uae30 ",r.a.createElement(f.a,{icon:d.a})))),r.a.createElement("span",{style:{color:"darkgray",fontSize:11,paddingTop:10}}," * \uac00\uc785 \uc808\ucc28\ub294 \uac8c\uc2dc\uae00\uc758 \uc218\uc815 \ubc0f \uc0ad\uc81c \uad8c\ud55c\uc744 \uc704\ud568\uc785\ub2c8\ub2e4. "),r.a.createElement("span",{style:{color:"darkgray",fontSize:11,paddingTop:10}}," \uc774\uc678\uc758 \uac1c\uc778\uc815\ubcf4\ub294 \uc218\uc9d1\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. "))},k=a(41),N=a(44),S=a(16),B=function(e){var t=e.nweetObj,a=e.isOwner,c=Object(n.useState)(!1),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)(t.text),d=Object(l.a)(u,2),b=d[0],E=d[1],g=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc9c4\uc9dc \uc0ad\uc81c\ud558\uc2dc\uac8c\uc694? \ud83d\ude31")){e.next=6;break}return e.next=4,Object(N.a)(Object(N.b)(j,"nweets",t.id));case 4:return e.next=6,Object(S.l)(Object(S.r)(v,t.attachmentURL));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){i((function(e){return!e}))},y=function(){var e=Object(p.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),h(),n=Object(N.b)(j,"nweets",t.id),e.next=5,Object(N.c)(n,{text:b,createdAt:Date.now()});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"nweet"},s?r.a.createElement("form",{className:"container nweetEdit",onSubmit:y},r.a.createElement("input",{className:"formInput",type:"text",placeholder:"\ubb38\uad6c \uc218\uc815\ud558\uae30",value:b,required:!0,autoFocus:!0,onChange:function(e){var t=e.target.value;E(t)},style:{textAlign:"center"}}),r.a.createElement("input",{className:"formBtn",type:"submit",value:"\uc218\uc815\ud558\uae30"}),r.a.createElement("span",{onClick:h,className:"formBtn cancelBtn"},"\ucde8\uc18c\ud558\uae30")):r.a.createElement("h4",{key:t.id}," ",t.text," "),t.attachmentURL&&r.a.createElement("img",{src:t.attachmentURL,alt:"attachmentURL"}),a&&r.a.createElement("div",{className:"nweet__actions"},r.a.createElement("span",{onClick:g},r.a.createElement(f.a,{icon:x.f})),r.a.createElement("span",{onClick:h},r.a.createElement(f.a,{icon:x.c}))))},I=a(83),C=function(e){var t=e.userObj,a=Object(n.useState)(),c=Object(l.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),d=u[0],b=u[1],E=function(){var e=Object(p.a)(m.a.mark((function e(a){var n,r,c,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""!==o){e.next=3;break}return e.abrupt("return");case 3:if(n="",""===d){e.next=12;break}return r=Object(S.r)(v,"".concat(t.uid,"/").concat(Object(I.a)())),e.next=8,Object(S.u)(r,d,"data_url");case 8:return c=e.sent,e.next=11,Object(S.m)(c.ref);case 11:n=e.sent;case 12:return l={text:o,createdAt:Date.now(),creatorId:t.uid,attachmentURL:n},e.next=15,j.collection("nweets").add(l);case 15:s(""),b("");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:E,className:"factoryForm"},r.a.createElement("span",{style:{color:"white",fontSize:20,paddingBottom:10}},"\uc548\ub155\ud558\uc138\uc694?"),r.a.createElement("span",{style:{color:"white",fontSize:20,paddingBottom:10}},"\ubc29\ubb38 \uc774\ub825\uc744 \ub0a8\uaca8\uc8fc\uc138\uc694! \ud83d\ude0d"),r.a.createElement("span",{style:{color:"white",fontSize:18,paddingBottom:10}},"\ubaa8\ub4e0 \ub0b4\uc6a9\uc740 \uc775\uba85\uc73c\ub85c \uc804\ub2ec\ub429\ub2c8\ub2e4"),r.a.createElement("span",{style:{color:"darkgray",fontSize:11,paddingBottom:5}},"*\ubd80\uc801\uc808\ud55c \ub0b4\uc6a9\uc740 \uad00\ub9ac\uc790\uc5d0 \uc758\ud574 \uc0ad\uc81c \uc870\uce58\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. "),r.a.createElement("span",{style:{color:"darkgray",fontSize:11,paddingBottom:20}},"*\ubc30\ub2e4\ub871\uc774 \uc81c\uc791\uc5d0 \ucc38\uc5ec\ud55c HeyNana \uc5b4\ud50c\ub3c4 \ub9ce\uc774 \uc774\uc6a9 \ubd80\ud0c1\ub4dc\ub824\uc694! "),r.a.createElement("div",{className:"factoryInput__container"},r.a.createElement("input",{className:"factoryInput__input",value:o,onChange:function(e){var t=e.target.value;s(t)},type:"text",placeholder:"\ubb38\uad6c \uc785\ub825...",maxLength:120,style:{textAlign:"center"}}),r.a.createElement("input",{type:"submit",value:"\u2192",className:"factoryInput__arrow"})),r.a.createElement("label",{htmlFor:"attach-file",className:"factoryInput__label"},r.a.createElement("span",null,"\uc0ac\uc9c4 \uc5c5\ub85c\ub4dc"),r.a.createElement(f.a,{icon:x.d})),r.a.createElement("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onloadend=function(e){var t=e.currentTarget.result;b(t)},a.readAsDataURL(t)},style:{opacity:0}}),d&&r.a.createElement("div",{className:"factoryForm__attachment"},r.a.createElement("img",{alt:"attachment",src:d,style:{backgroundImage:d}}),r.a.createElement("div",{className:"factoryForm__clear",onClick:function(){return b("")}},r.a.createElement("span",null,"Remove"),r.a.createElement(f.a,{icon:x.e}))))},D=function(e){var t=e.userObj,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){j.collection("nweets").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())})).sort((function(e,t){return t.createdAt-e.createdAt}));s(t)}))}),[]),r.a.createElement("div",{className:"container"},r.a.createElement(C,{userObj:t}),r.a.createElement("div",{style:{marginTop:30}},o.map((function(e){return r.a.createElement(B,{key:e.id,nweetObj:e,isOwner:e.creatorId===t.uid})}))))},_=a(12),z=function(e){var t=e.userObj,a=e.refreshUser,c=Object(i.f)(),o=Object(n.useState)(t.displayName?t.displayName:""),s=Object(l.a)(o,2),u=s[0],f=s[1],d=function(){var e=Object(p.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(_.ab)(Object(_.y)(j,"nweets"),Object(_.mb)("creatorId","==",t.uid)),e.next=3,Object(_.P)(a);case 3:e.sent.forEach((function(e){console.log(e.id," => ",e.data())}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t.displayName===u){e.next=5;break}return e.next=4,Object(b.g)(t,{displayName:u});case 4:a();case 5:c.push("/");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()})),r.a.createElement("div",{className:"container"},r.a.createElement("input",{type:"text",autoFocus:!0,placeholder:"\ub2c9\ub124\uc784 \uc785\ub825...",onChange:function(e){var t=e.target.value;f(t)},value:u,style:{textAlign:"center"}}),r.a.createElement("input",{type:"submit",onClick:E,value:"\ub2c9\ub124\uc784 \ubcc0\uacbd",className:"formBtn",style:{marginTop:10}}),r.a.createElement("span",{className:"formBtn cancelBtn logOut",onClick:function(){O.signOut(),a(),c.push("/"),window.location.reload()}},"\ub85c\uadf8\uc544\uc6c3"))},F=function(e){var t=e.userObj;return r.a.createElement("nav",null,r.a.createElement("ul",{style:{display:"flex",justifyContent:"center",marginTop:50}},r.a.createElement(s.b,{to:"/",style:{marginLeft:10,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12}},r.a.createElement(f.a,{icon:x.b,color:"#FEBD00",size:"2x"}),r.a.createElement("span",{style:{marginTop:10}},"Home")),r.a.createElement(s.b,{to:"/profile",style:{marginLeft:10,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12}},r.a.createElement(f.a,{icon:x.g,color:"#FEBD00",size:"2x"}),r.a.createElement("span",{style:{marginTop:10}},t.displayName?"".concat(t.displayName,"\uc758 Profile"):"Profile"))))},U=function(e){var t=e.isLoggedIn,a=e.userObj,n=e.refreshUser;return r.a.createElement(s.a,null,t&&r.a.createElement(F,{userObj:a}),r.a.createElement(i.c,null,t?r.a.createElement("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"}},r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(D,{userObj:a})),r.a.createElement(i.a,{exact:!0,path:"/profile"},r.a.createElement(z,{userObj:a,refreshUser:n}))):r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(w,null))))};var A=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),s=Object(l.a)(o,2),i=s[0],u=s[1];return Object(n.useEffect)((function(){Object(b.e)(y,(function(e){e&&u(e),c(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement(U,{isLoggedIn:Boolean(i),userObj:i,refreshUser:function(){u(O.currentUser)}}):r.a.createElement("div",{class:"authContainer"}," \ub85c\ub529\uc911.... "))};a(78);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.617beb34.chunk.js.map